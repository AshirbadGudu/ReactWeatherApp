[{"/Users/ashutoshmohapatra/Desktop/Ashirbad/old_work/ReactWeatherApp/src/App.js":"1","/Users/ashutoshmohapatra/Desktop/Ashirbad/old_work/ReactWeatherApp/src/index.js":"2","/Users/ashutoshmohapatra/Desktop/Ashirbad/old_work/ReactWeatherApp/src/pages/Home.js":"3","/Users/ashutoshmohapatra/Desktop/Ashirbad/old_work/ReactWeatherApp/src/pages/Register.js":"4","/Users/ashutoshmohapatra/Desktop/Ashirbad/old_work/ReactWeatherApp/src/pages/Login.js":"5","/Users/ashutoshmohapatra/Desktop/Ashirbad/old_work/ReactWeatherApp/src/components/core/Loader.js":"6"},{"size":3827,"mtime":1634830658182,"results":"7","hashOfConfig":"8"},{"size":277,"mtime":1634830592789,"results":"9","hashOfConfig":"8"},{"size":807,"mtime":1634829834548,"results":"10","hashOfConfig":"8"},{"size":730,"mtime":1634830096729,"results":"11","hashOfConfig":"8"},{"size":716,"mtime":1634830079468,"results":"12","hashOfConfig":"8"},{"size":79,"mtime":1634830609518,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},"1pz5zam",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/ashutoshmohapatra/Desktop/Ashirbad/old_work/ReactWeatherApp/src/App.js",["27"],"import { useEffect, useState } from \"react\";\nimport { Home, Login, Register } from \"pages\";\nimport { Header } from \"components\";\n\nconst API_KEY = \"df82f4bd92424e1aa29150115201612\";\nconst BASE_URL = `https://api.weatherapi.com/v1/current.json?key=${API_KEY}`;\nconst URL = `${BASE_URL}&q=`;\n\nconst getCookie = (name) => {\n  const value = `; ${document.cookie}`;\n  const parts = value.split(`; ${name}=`);\n  if (parts.length === 2) return parts.pop().split(\";\").shift();\n};\n\nconst App = () => {\n  const [loginEmail, setLoginEmail] = useState(\"\");\n  const [loginPassword, setLoginPassword] = useState(\"\");\n  const [registerEmail, setRegisterEmail] = useState(\"\");\n  const [registerPassword, setRegisterPassword] = useState(\"\");\n  const [currentUser, setCurrentUser] = useState(null);\n  const [lat, setLat] = useState(\"\");\n  const [lon, setLon] = useState(\"\");\n  const [weatherData, setWeatherData] = useState(null);\n  const handleLogin = (e) => {\n    e.preventDefault();\n\n    if (localStorage.getItem(loginEmail)) {\n      const user = JSON.parse(localStorage.getItem(loginEmail));\n      if (user.password === loginPassword) {\n        alert(\"Welcome Back\");\n        sessionStorage.setItem(\"user\", JSON.stringify(user));\n      } else {\n        alert(\"Please User Correct Password\");\n      }\n      setCurrentUser(user);\n    } else {\n      alert(\"User Not Registered\");\n    }\n\n    setLoginEmail(\"\");\n    setLoginPassword(\"\");\n  };\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n    if (localStorage.getItem(registerEmail)) {\n      alert(\"User Already Registered\");\n    } else {\n      const timestamp = new Date().toLocaleString();\n      const userData = {\n        email: registerEmail,\n        password: registerPassword,\n        timestamp,\n      };\n      localStorage.setItem(registerEmail, JSON.stringify(userData));\n      sessionStorage.setItem(\"user\", JSON.stringify(userData));\n      alert(\"Welcome\");\n      setCurrentUser(userData);\n    }\n\n    setRegisterEmail(\"\");\n    setRegisterPassword(\"\");\n  };\n\n  useEffect(() => {\n    setCurrentUser(JSON.parse(sessionStorage.getItem(\"user\")));\n    navigator.geolocation.getCurrentPosition(function (position) {\n      setLat(position.coords.latitude);\n      setLon(position.coords.longitude);\n    });\n  }, []);\n\n  useEffect(() => {\n    const expiresTime = new Date(\n      new Date().setHours(new Date().getHours() + 1)\n    );\n\n    const expiresOn = \"expires=\" + expiresTime.toUTCString();\n\n    if (getCookie(\"weatherData\")) {\n      const cookieWeatherData = JSON.parse(getCookie(\"weatherData\"));\n      setWeatherData(cookieWeatherData);\n    } else {\n      if (lat && lon) {\n        fetch(`${URL}${lat},${lon}`).then((response) => {\n          response.json().then((data) => {\n            setWeatherData(data);\n\n            document.cookie =\n              \"weatherData\" + \"=\" + JSON.stringify(data) + \";\" + expiresOn;\n          });\n        });\n      }\n    }\n  }, [lat, lon]);\n\n  return (\n    <div className=\"App\">\n      <main className=\"App-header\">\n        <Header currentUser={currentUser} />\n        <section className=\"App-Container\">\n          {!currentUser ? (\n            <>\n              <Login\n                email={loginEmail}\n                password={loginPassword}\n                setEmail={setLoginEmail}\n                setPassword={setLoginPassword}\n                onSubmit={handleLogin}\n              />\n              <Register\n                email={registerEmail}\n                password={registerPassword}\n                setEmail={setRegisterEmail}\n                setPassword={setRegisterPassword}\n                onSubmit={handleRegister}\n              />\n            </>\n          ) : (\n            <Home weatherData={weatherData} setCurrentUser={setCurrentUser} />\n          )}\n        </section>\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","/Users/ashutoshmohapatra/Desktop/Ashirbad/old_work/ReactWeatherApp/src/index.js",[],"/Users/ashutoshmohapatra/Desktop/Ashirbad/old_work/ReactWeatherApp/src/pages/Home.js",[],"/Users/ashutoshmohapatra/Desktop/Ashirbad/old_work/ReactWeatherApp/src/pages/Register.js",[],"/Users/ashutoshmohapatra/Desktop/Ashirbad/old_work/ReactWeatherApp/src/pages/Login.js",[],"/Users/ashutoshmohapatra/Desktop/Ashirbad/old_work/ReactWeatherApp/src/components/core/Loader.js",[],{"ruleId":"28","severity":1,"message":"29","line":91,"column":29,"nodeType":"30","messageId":"31","endLine":91,"endColumn":30},"no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat"]